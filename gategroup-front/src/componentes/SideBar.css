/* ===========================
   üé® Tema & Variables
   =========================== */
:root {
  --sb-w: 280px;            /* ancho del sidebar abierto */
  --handle-w: 60px;         /* ancho visible cuando est√° cerrado (handle) */
  --bg-glass: rgba(8, 10, 45, 0.55);
  --bg-gradient: radial-gradient(1200px 600px at -10% -10%, #3b82f6 0%, transparent 45%),
                 radial-gradient(1000px 600px at 120% 10%, #a78bfa 0%, transparent 40%),
                 linear-gradient(180deg, rgba(9, 10, 35, 0.95), rgba(9, 10, 35, 0.85));
  --stroke: rgba(255, 255, 255, 0.08);
  --shadow: 0 10px 30px rgba(0, 0, 0, .45), inset 0 1px 0 rgba(255,255,255,.06);
  --txt: #e6e9ef;
  --txt-dim: #b7c0d1;
  --accent: #60a5fa;
  --hover: rgba(255,255,255,.06);
  --active: #243763;
  --badge-grad: linear-gradient(135deg, #34d399 0%, #60a5fa 50%, #a78bfa 100%);
  --speed: .28s;
}

/* ===========================
   üß± Sidebar contenedor
   =========================== */
.sidebar {
  position: fixed;
  top: 0; left: 0;
  width: var(--sb-w);
  height: 100vh;
  display: flex;
  flex-direction: column;
  gap: .75rem;
  color: var(--txt);
  background: var(--bg-gradient), var(--bg-glass);
  backdrop-filter: blur(10px) saturate(130%);
  -webkit-backdrop-filter: blur(10px) saturate(130%);
  border-right: 1px solid var(--stroke);
  box-shadow: var(--shadow);
  padding: .75rem .9rem 1.1rem;
  z-index: 1050;

  /* ‚Äî Estado CERRADO ‚Äî deja un ‚Äúhandle‚Äù de 48px visible para el bot√≥n */
  transform: translateX(calc(-100% + var(--handle-w)));
  transition: transform var(--speed) ease, box-shadow var(--speed);
}
.sidebar.is-open {
  transform: translateX(0);
}

/* Scrollbar elegante */
.sidebar {
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,.25) transparent;
}
.sidebar::-webkit-scrollbar { width: 8px; }
.sidebar::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,.18);
  border-radius: 999px;
}

/* ===========================
   üßæ Header + Bot√≥n (‚ò∞ / √ó)
   =========================== */
.sidebar__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  padding: .5rem .4rem .35rem;
  margin-bottom: .25rem;
  border-bottom: 1px dashed var(--stroke);
}
.sidebar__header span {
  font-weight: 700;
  letter-spacing: .4px;
  font-size: 1.05rem;
  color: #f4f7ff;
  text-shadow: 0 2px 0 rgba(0,0,0,.25);
}

/* El MISMO bot√≥n sirve para abrir/cerrar. Lo mantenemos bien visible en el ‚Äúhandle‚Äù */
.sidebar__close {
  color: var(--txt);
  background: transparent;
  border: transparent;
  width: 40px; height: 40px;
  font-size: 1.1rem;
  cursor: pointer;
}
.sidebar__close:hover { transform: translateY(-1px); }

/* ===========================
   üß≠ Navegaci√≥n
   =========================== */
.sidebar__nav {
  display: grid;
  gap: .35rem;
  padding: .25rem;
}

/* Link estilo chip con indicador activo */
.sidebar__link {
  --pad-x: .7rem;
  position: relative;
  display: grid;
  grid-template-columns: 1.25rem 1fr auto;
  align-items: center;
  gap: .6rem;
  padding: .55rem var(--pad-x);
  border-radius: 12px;
  color: var(--txt-dim);
  text-decoration: none;
  transition: background var(--speed), color var(--speed), transform var(--speed), box-shadow var(--speed);
  isolation: isolate;
}
.sidebar__link::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), transparent 35%);
  opacity: 0;
  transition: opacity var(--speed);
  z-index: -1;
}
.sidebar__link:hover { color: var(--txt); transform: translateX(2px); background: var(--hover); }
.sidebar__link:hover::before { opacity: 1; }

.sidebar__link.is-active {
  color: #fff;
  background: linear-gradient(180deg, rgba(36, 55, 99, .95), rgba(27, 41, 81, .9));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), 0 10px 20px rgba(0,0,0,.25);
}
.sidebar__link.is-active::after {
  content: "";
  position: absolute;
  left: -6px; top: 50%; transform: translateY(-50%);
  width: 6px; height: 60%;
  border-radius: 0 6px 6px 0;
  background: var(--badge-grad);
  box-shadow: 0 0 18px rgba(96,165,250,.45);
}

.sidebar__icon {
  width: 1.1rem; height: 1.1rem;
  display: inline-flex; align-items: center; justify-content: center;
  opacity: .95;
}
.sidebar__badge {
  margin-left: auto;
  padding: .15rem .5rem;
  font-size: .72rem;
  font-weight: 800;
  border-radius: 999px;
  color: #062c24;
  background: var(--badge-grad);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.35), 0 4px 12px rgba(64, 197, 165, .35);
}

.sidebar__overlay {
  position: fixed;
  inset: 0;
  background: rgba(5, 8, 28, .55);
  z-index: 1000;
}

/* ===========================
   ‚ú® Animaci√≥n de entrada de items
   =========================== */
@keyframes slideIn {
  from { transform: translateX(-8px); opacity: 0; }
  to   { transform: translateX(0); opacity: 1; }
}
.sidebar.is-open .sidebar__link { animation: slideIn .35s ease both; }
.sidebar.is-open .sidebar__link:nth-child(1){ animation-delay: .02s; }
.sidebar.is-open .sidebar__link:nth-child(2){ animation-delay: .04s; }
.sidebar.is-open .sidebar__link:nth-child(3){ animation-delay: .06s; }
.sidebar.is-open .sidebar__link:nth-child(4){ animation-delay: .08s; }
.sidebar.is-open .sidebar__link:nth-child(5){ animation-delay: .10s; }

/* ===========================
   üì± Responsive
   =========================== */
@media (max-width: 380px) {
  :root { --sb-w: 86vw; }
  .sidebar__link { --pad-x: .6rem; }
}
